/*
magneticScroll v1.0
by Maxime Gaul
https://github.com/maximegaul/magnetic-scroll
*/
$.fn.reverse=[].reverse;(function(e){e.magneticScroll=function(t){var n={selector:".magnetic",easing:"swing",speed:500,timeout:200};var r=e.extend(n,t);e(document).ready(function(){e(r.selector).each(function(){e(this).attr("data-offset",e(this).offset().top)});var t=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";e("body:not(.scrolling)").bind(t,function(t){if(!e(this).hasClass("scrolling")){e(this).addClass("scrolling");var n=e(window).scrollTop();var i=window.event||t;i=i.originalEvent?i.originalEvent:i;var s=i.detail?i.detail*-40:i.wheelDelta;if(s>0){if(e(window).scrollTop()>0){e(r.selector).reverse().each(function(){var t=0;if(e(this).attr("data-offset")<n){e("html, body").stop().animate({scrollTop:e(this).attr("data-offset")+"px"},r.speed,r.easing,function(){setTimeout(function(){e("html,body").stop().removeClass("scrolling")},r.timeout)});t=1;return false}if(t==0){e("html, body").stop().animate({scrollTop:"0px"},r.speed,r.easing,function(){setTimeout(function(){e("html,body").stop().removeClass("scrolling")},r.timeout)})}})}else{e("html,body").stop().removeClass("scrolling")}}else{var o=true;e(r.selector).each(function(){if(e(this).attr("data-offset")>n){o=false;e("html, body").stop().animate({scrollTop:e(this).attr("data-offset")+"px"},r.speed,r.easing,function(){setTimeout(function(){e("html,body").stop().removeClass("scrolling")},r.timeout)});return false}});if(o)e("html,body").stop().removeClass("scrolling")}}else{t.preventDefault()}t.stopPropagation();return})}).keydown(function(t){var n=e(window).scrollTop();var i=t.which;if(i==38){t.preventDefault();if(!e("body").hasClass("scrolling")){e("body").addClass("scrolling");e(r.selector).reverse().each(function(){if(e(this).attr("data-offset")<n){e("html, body").stop().animate({scrollTop:e(this).attr("data-offset")+"px"},r.speed,r.easing,function(){setTimeout(function(){e("html,body").stop().removeClass("scrolling")},r.timeout)});return false}})}}else if(i==40){t.preventDefault();if(!e("body").hasClass("scrolling")){e("body").addClass("scrolling");var s=true;e(r.selector).each(function(){if(e(this).attr("data-offset")>n){s=false;e("html, body").stop().animate({scrollTop:e(this).attr("data-offset")+"px"},r.speed,r.easing,function(){setTimeout(function(){e("html,body").stop().removeClass("scrolling")},r.timeout)});return false}});if(s)e("html,body").stop().removeClass("scrolling")}}})}})(jQuery)